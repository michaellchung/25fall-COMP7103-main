# TravelMate AI - åˆ†æ­¥äº¤äº’å¼æ—…æ¸¸æ”»ç•¥æ¨èç³»ç»Ÿ

## ğŸŒŸ é¡¹ç›®æ¦‚è¿°

TravelMate AI æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æŠ€æœ¯çš„æ™ºèƒ½æ—…æ¸¸æ”»ç•¥ç”Ÿæˆç³»ç»Ÿã€‚æœ¬ç‰ˆæœ¬ï¼ˆv2.0ï¼‰å®ç°äº†**åˆ†æ­¥äº¤äº’å¼æ¨è**åŠŸèƒ½ï¼Œè®©ç”¨æˆ·åœ¨æ¯ä¸ªé˜¶æ®µéƒ½èƒ½å‚ä¸å†³ç­–ï¼Œé€æ­¥æ„å»ºä¸ªæ€§åŒ–çš„æ—…è¡Œè®¡åˆ’ã€‚

### æ ¸å¿ƒåˆ›æ–°

1. **å¤šè½®å¯¹è¯éœ€æ±‚æŒ–æ˜**ï¼šé€šè¿‡æ™ºèƒ½å¯¹è¯é€æ­¥æ”¶é›†ç”¨æˆ·éœ€æ±‚
2. **åˆ†æ­¥äº¤äº’å¼æ¨è**ï¼šäº¤é€š â†’ æ™¯ç‚¹ â†’ ç¾é£Ÿ â†’ ä½å®¿ï¼Œé€æ­¥é€‰æ‹©
3. **å®æ—¶ä¿¡æ¯æ•´åˆ**ï¼šæ•´åˆäº¤é€šã€æ™¯ç‚¹ã€ç¾é£Ÿã€ä½å®¿ç­‰å¤šç»´åº¦ä¿¡æ¯
4. **ä¸ªæ€§åŒ–å®šåˆ¶**ï¼šåŸºäºç”¨æˆ·åå¥½ã€é¢„ç®—ã€åŒè¡Œäººæ•°æ™ºèƒ½æ¨è

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

#### 1. æ™ºèƒ½éœ€æ±‚æ”¶é›†
- è‡ªç„¶è¯­è¨€å¯¹è¯ç†è§£
- è‡ªåŠ¨æå–å…³é”®ä¿¡æ¯ï¼ˆç›®çš„åœ°ã€å¤©æ•°ã€é¢„ç®—ã€åå¥½ç­‰ï¼‰
- æ™ºèƒ½è¡¥å…¨ç¼ºå¤±ä¿¡æ¯
- LLMé©±åŠ¨çš„ç¡®è®¤æ„å›¾è¯†åˆ«

#### 2. åˆ†æ­¥äº¤äº’å¼æ¨è

**é˜¶æ®µ1ï¼šäº¤é€šæ¨è**
- æä¾›é£æœºã€é«˜é“ã€è‡ªé©¾ä¸‰ç§æ–¹æ¡ˆ
- æ˜¾ç¤ºä»·æ ¼ã€æ—¶é•¿ã€æ¨èç†ç”±
- æ”¯æŒè‡ªç„¶è¯­è¨€é€‰æ‹©

**é˜¶æ®µ2ï¼šæ™¯ç‚¹æ¨èï¼ˆæŒ‰å¤©åˆ†é…ï¼‰**
- æ ¹æ®ç”¨æˆ·åå¥½æ™ºèƒ½ç­›é€‰æ™¯ç‚¹
- è‡ªåŠ¨æŒ‰å¤©æ•°åˆ†é…æ™¯ç‚¹
- è€ƒè™‘åœ°ç†ä½ç½®å’Œæ¸¸ç©æ—¶é•¿

**é˜¶æ®µ3ï¼šç¾é£Ÿæ¨èï¼ˆæŒ‰å¤©åˆ†é…ï¼‰**
- æ¨èæ™¯ç‚¹é™„è¿‘çš„ç‰¹è‰²é¤å…
- æ¯å¤©2-3å®¶é¤å…ï¼ˆåˆé¤ã€æ™šé¤ï¼‰
- è€ƒè™‘ç”¨æˆ·é¢„ç®—å’Œåå¥½

**é˜¶æ®µ4ï¼šä½å®¿æ¨è**
- åŸºäºæ™¯ç‚¹åˆ†å¸ƒæ¨èé…’åº—
- æä¾›ä¸åŒä»·ä½é€‰æ‹©
- æ ‡æ³¨æ¨èé€‰é¡¹

**é˜¶æ®µ5ï¼šæœ€ç»ˆæ”»ç•¥ç”Ÿæˆ**
- æ•´åˆæ‰€æœ‰é€‰æ‹©
- ç”Ÿæˆå®Œæ•´çš„æ¯æ—¥è¡Œç¨‹
- æä¾›é¢„ç®—åˆ†é…å’Œæ—…è¡Œå»ºè®®

#### 3. æ•°æ®ç®¡ç†
- å®Œæ•´è®°å½•ç”¨æˆ·é€‰æ‹©
- æ”¯æŒçŠ¶æ€è¿½æº¯
- ä¼šè¯ç®¡ç†

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ ˆ

**åç«¯**
- Python 3.12
- FastAPIï¼ˆWebæ¡†æ¶ï¼‰
- Pydanticï¼ˆæ•°æ®éªŒè¯ï¼‰
- Loguruï¼ˆæ—¥å¿—ï¼‰
- SambaNova Llama 8B / OpenAI GPT-4o-miniï¼ˆLLMï¼‰

**å‰ç«¯**ï¼ˆå¾…å®Œå–„ï¼‰
- Vue.js 3
- Element Plus
- Piniaï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
- Axiosï¼ˆHTTPå®¢æˆ·ç«¯ï¼‰

### æ ¸å¿ƒç»„ä»¶

```
backend/
â”œâ”€â”€ agent/
â”‚   â”œâ”€â”€ core.py              # æ ¸å¿ƒæ§åˆ¶å™¨ï¼ˆåˆ†æ­¥äº¤äº’é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ dialogue.py          # å¯¹è¯ç®¡ç†å™¨
â”‚   â””â”€â”€ state.py             # çŠ¶æ€ç®¡ç†ï¼ˆçŠ¶æ€æœºå®šä¹‰ï¼‰
â”œâ”€â”€ planner/
â”‚   â””â”€â”€ interactive_recommender.py  # äº¤äº’å¼æ¨èå™¨
â”œâ”€â”€ rag/
â”‚   â””â”€â”€ retriever.py         # RAGæ£€ç´¢æœåŠ¡
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ transport.py         # äº¤é€šæŸ¥è¯¢æœåŠ¡
â”‚   â”œâ”€â”€ food.py              # ç¾é£Ÿæ¨èæœåŠ¡
â”‚   â””â”€â”€ accommodation.py     # ä½å®¿æ¨èæœåŠ¡
â””â”€â”€ api/
    â””â”€â”€ chat.py              # å¯¹è¯APIæ¥å£
```

### çŠ¶æ€æœºè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GREETING  â”‚ æ¬¢è¿
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COLLECTING_REQUIREMENTS â”‚ æ”¶é›†éœ€æ±‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONFIRMING_REQUIREMENTS â”‚ ç¡®è®¤éœ€æ±‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECOMMENDING_TRANSPORT â”‚ æ¨èäº¤é€š
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAITING_TRANSPORT_SELECTION â”‚ ç­‰å¾…äº¤é€šé€‰æ‹©
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECOMMENDING_ATTRACTIONS â”‚ æ¨èæ™¯ç‚¹
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAITING_ATTRACTIONS_SELECTION â”‚ ç­‰å¾…æ™¯ç‚¹é€‰æ‹©
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECOMMENDING_FOOD â”‚ æ¨èç¾é£Ÿ
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAITING_FOOD_SELECTION â”‚ ç­‰å¾…ç¾é£Ÿé€‰æ‹©
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECOMMENDING_ACCOMMODATION â”‚ æ¨èä½å®¿
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WAITING_ACCOMMODATION_SELECTION â”‚ ç­‰å¾…ä½å®¿é€‰æ‹©
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GENERATING_FINAL_ITINERARY â”‚ ç”Ÿæˆæœ€ç»ˆæ”»ç•¥
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMPLETED â”‚ å®Œæˆ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Node.js 18+
- npm 9+

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
cd /Applications/MyDocument/7103
```

#### 2. åç«¯è®¾ç½®
```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3.12 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥APIå¯†é’¥
```

#### 3. å‰ç«¯è®¾ç½®ï¼ˆå¾…å®Œå–„ï¼‰
```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### è¿è¡Œæµ‹è¯•

#### åç«¯æµ‹è¯•
```bash
cd backend
python test/test_backend_simple.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… æˆåŠŸè¿›å…¥äº¤é€šæ¨èé˜¶æ®µï¼
âœ… æˆåŠŸè¿›å…¥æ™¯ç‚¹æ¨èé˜¶æ®µï¼
âœ… æˆåŠŸè¿›å…¥ç¾é£Ÿæ¨èé˜¶æ®µï¼
âœ… æˆåŠŸè¿›å…¥ä½å®¿æ¨èé˜¶æ®µï¼
âœ… æˆåŠŸå®Œæˆæ‰€æœ‰é˜¶æ®µï¼

ã€æœ€ç»ˆè¡Œç¨‹ã€‘
âœ“ ç›®çš„åœ°: æ­å·
âœ“ å¤©æ•°: 3
âœ“ é¢„ç®—: 5000
âœ“ äº¤é€š: é«˜é“
âœ“ æ¯æ—¥è®¡åˆ’æ•°: 3
âœ“ é…’åº—: æ­å·å‡¯æ‚¦é…’åº—
```

#### å¯åŠ¨æœåŠ¡
```bash
# åç«¯
cd backend
python main.py

# å‰ç«¯
cd frontend
npm run dev
```

---

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### APIè°ƒç”¨ç¤ºä¾‹

#### 1. åˆå§‹å¯¹è¯
```bash
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "test_001",
    "message": "æˆ‘æƒ³å»æ­å·ç©3å¤©"
  }'
```

#### 2. è¡¥å……ä¿¡æ¯
```bash
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "test_001",
    "message": "é¢„ç®—5000å…ƒï¼Œå–œæ¬¢ç¾é£Ÿï¼Œä»ä¸Šæµ·å‡ºå‘ï¼Œå’Œæœ‹å‹ä¸€èµ·ï¼Œ2äºº"
  }'
```

#### 3. ç¡®è®¤éœ€æ±‚
```bash
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "test_001",
    "message": "ç¡®è®¤"
  }'
```

#### 4. é€‰æ‹©äº¤é€š
```bash
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "session_id": "test_001",
    "message": "æˆ‘é€‰æ‹©é«˜é“",
    "selection": {
      "type": "transport",
      "choice": {"method": "é«˜é“"}
    }
  }'
```

---

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### å®Œæˆåº¦

| æ¨¡å— | çŠ¶æ€ | å®Œæˆåº¦ |
|------|------|--------|
| éœ€æ±‚æ”¶é›† | âœ… å®Œæˆ | 100% |
| äº¤é€šæ¨è | âœ… å®Œæˆ | 100% |
| æ™¯ç‚¹æ¨è | âœ… å®Œæˆ | 100% |
| ç¾é£Ÿæ¨è | âœ… å®Œæˆ | 100% |
| ä½å®¿æ¨è | âœ… å®Œæˆ | 100% |
| æœ€ç»ˆç”Ÿæˆ | âœ… å®Œæˆ | 100% |
| åç«¯API | âœ… å®Œæˆ | 100% |
| å‰ç«¯UI | âš ï¸ å¾…å®Œå–„ | 30% |

### æµ‹è¯•è¦†ç›–

- âœ… å•å…ƒæµ‹è¯•ï¼šæ ¸å¿ƒç»„ä»¶
- âœ… é›†æˆæµ‹è¯•ï¼šå®Œæ•´æµç¨‹
- âœ… ç«¯åˆ°ç«¯æµ‹è¯•ï¼šåç«¯API
- âš ï¸ å‰ç«¯æµ‹è¯•ï¼šå¾…å®Œå–„

---

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„æ¨èé˜¶æ®µ

1. **åœ¨`state.py`ä¸­æ·»åŠ æ–°é˜¶æ®µ**
```python
class ItineraryStage(str, Enum):
    # ... ç°æœ‰é˜¶æ®µ
    RECOMMENDING_ACTIVITIES = "recommending_activities"
    WAITING_ACTIVITIES_SELECTION = "waiting_activities_selection"
```

2. **åœ¨`core.py`ä¸­æ·»åŠ å¤„ç†é€»è¾‘**
```python
def _start_activities_recommendation(self, state: ConversationState) -> Dict:
    # å®ç°æ¨èé€»è¾‘
    pass

def _handle_activities_selection(self, state, user_message, selection) -> Dict:
    # å®ç°é€‰æ‹©å¤„ç†é€»è¾‘
    pass
```

3. **åœ¨`interactive_recommender.py`ä¸­æ·»åŠ æ¨èæ–¹æ³•**
```python
def recommend_activities(self, requirements, ...):
    # å®ç°æ¨èç®—æ³•
    pass
```

### è‡ªå®šä¹‰æ¨èç®—æ³•

ä¿®æ”¹`interactive_recommender.py`ä¸­çš„é»˜è®¤æ¨èæ–¹æ³•ï¼š

```python
def _default_attractions_recommendation(self, requirements, all_attractions):
    # è‡ªå®šä¹‰æ™¯ç‚¹æ¨èé€»è¾‘
    # ä¾‹å¦‚ï¼šåŸºäºåœ°ç†ä½ç½®èšç±»
    # ä¾‹å¦‚ï¼šåŸºäºç”¨æˆ·å†å²åå¥½
    pass
```

---

## ğŸ“š æ–‡æ¡£

- **è®¾è®¡æ–¹æ¡ˆ**ï¼š`åˆ†æ­¥äº¤äº’å¼æ¨èè®¾è®¡æ–¹æ¡ˆ.md`
- **å®ç°æŠ¥å‘Š**ï¼š`åˆ†æ­¥äº¤äº’å¼æ¨èå®ç°å®ŒæˆæŠ¥å‘Š.md`
- **ä½¿ç”¨æŒ‡å—**ï¼š`å¦‚ä½•è¿è¡Œå’Œæµ‹è¯•.md`
- **APIæ–‡æ¡£**ï¼šhttp://localhost:8000/docs

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

### ä»£ç è§„èŒƒ

- Python: PEP 8
- JavaScript: ESLint + Prettier
- æäº¤ä¿¡æ¯: Conventional Commits

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## ğŸ‘¥ å›¢é˜Ÿ

- **æˆå‘˜A**ï¼šAgentæ ¸å¿ƒã€å¯¹è¯ç®¡ç†
- **æˆå‘˜B**ï¼šRAGç³»ç»Ÿã€çŸ¥è¯†åº“
- **æˆå‘˜C**ï¼šåç«¯å·¥å…·é“¾ã€ç®—æ³•
- **æˆå‘˜D**ï¼šå‰ç«¯å¼€å‘ã€UI/UX

---

## ğŸ™ è‡´è°¢

- SambaNova Cloud for LLM API
- OpenAI for GPT models
- FastAPI framework
- Vue.js framework
- Element Plus UI library

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æ–‡æ¡£ï¼š`å¦‚ä½•è¿è¡Œå’Œæµ‹è¯•.md`
2. è¿è¡Œæµ‹è¯•ï¼š`python test/test_backend_simple.py`
3. æŸ¥çœ‹APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

---

**ç‰ˆæœ¬**ï¼šv2.0 - åˆ†æ­¥äº¤äº’å¼ç‰ˆæœ¬  
**æœ€åæ›´æ–°**ï¼š2025-11-18  
**çŠ¶æ€**ï¼šåç«¯å®Œæˆï¼Œå‰ç«¯å¾…å®Œå–„

ğŸ‰ **åç«¯æ ¸å¿ƒåŠŸèƒ½å·²100%å®Œæˆå¹¶é€šè¿‡æµ‹è¯•ï¼**

