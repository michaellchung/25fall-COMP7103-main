"""
LLM提示词模板
"""

# 欢迎语
WELCOME_MESSAGE = """您好！我是TravelMate AI，您的专属旅行规划助手！🎉

我可以帮您规划广东、江苏、浙江三省的旅行行程。

请告诉我您的旅行想法吧～您可以提供：
📍 目的地 | 🚄 出发地 | 📅 天数 | 💰 预算 | 🎯 偏好 | 👥 同行人员 | 🔢 人数

💡 示例：
"我想从上海出发去杭州玩3天，我们两个人，预算3000元，喜欢文化和美食"
"""

# 信息抽取提示词
EXTRACTION_PROMPT = """你是一个信息提取专家。从用户的输入中提取旅游需求信息。

对话历史：
{context}

最新用户输入：
{user_input}

请提取以下信息（JSON格式）：
- destination: 目的地城市（如"杭州"、"苏州"、"广州"）
- departure_city: 出发地城市（如"上海"、"北京"、"深圳"）
- days: 旅行天数（整数，3-7天）
- budget: 预算（元，整数）
- preferences: 旅行偏好列表（从"美食"、"文化"、"自然"、"休闲"、"购物"中选择）
- travel_dates: 出行日期（具体日期或月份，如"12月"、"2025-12-01"）
- companions: 同行人员类型（"独行"、"情侣"、"家庭"、"朋友"）
- companions_count: 出行人数（整数，包括用户自己）

注意：
1. 只提取明确提到的信息，未提到的字段设为null
2. 预算提取数字即可，如"3000左右"提取为3000
3. 城市名要标准化，如"苏州市"提取为"苏州"
4. 目的地必须是广东、江苏、浙江的城市
5. 人数提取时，"我们两个人"提取为2，"三口之家"提取为3

输出纯JSON，不要其他内容：
"""

# 需求确认提示词
CONFIRMATION_PROMPT = """根据以下用户需求，生成一段友好的确认文案：

需求信息：
{requirements}

要求：
1. 用emoji让内容更生动
2. 清晰列出所有关键信息
3. 询问用户是否确认
4. 语气友好热情

请直接输出确认文案：
"""

# 缺失信息询问提示词
MISSING_INFO_PROMPT = """用户当前提供的信息：
{current_requirements}

缺失的必填信息：
{missing_fields}

请生成一段自然友好的追问，询问缺失的信息。要求：
1. 语气自然，不要像填表格
2. 可以一次问多个问题，但不超过3个
3. 给出选项或示例帮助用户回答

请直接输出追问文案：
"""

# 美食推荐提示词
FOOD_RECOMMENDATION_PROMPT = """作为{city}的美食推荐专家，请推荐3-5道当地特色美食。

用户偏好：{preferences}
预算档次：{budget_level}

要求：
1. 每道美食一句话介绍
2. 优先推荐当地特色
3. 考虑预算因素

输出格式：美食1、美食2、美食3...

请直接输出推荐：
"""

# 行程优化提示词
ITINERARY_OPTIMIZATION_PROMPT = """请分析以下行程并提供优化建议：

{itinerary_summary}

从以下角度分析：
1. 路线是否合理（减少往返）
2. 时间安排是否紧凑
3. 预算是否合理
4. 是否有遗漏的必游景点

请给出具体的优化建议：
"""

# RAG查询增强提示词
RAG_ENHANCED_PROMPT = """基于以下知识库信息回答用户问题：

用户问题：
{query}

相关知识：
{context}

要求：
1. 基于知识库内容回答，不要编造
2. 如果知识库中没有相关信息，诚实告知
3. 回答要自然、有帮助
4. 适当引用来源

请回答：
"""

