# Toolæ¥å£æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†æ—…æ¸¸æ”»ç•¥ç”Ÿæˆç³»ç»Ÿä¸­çš„å››ä¸ªæ ¸å¿ƒToolæ¥å£ï¼ŒåŒ…æ‹¬å®Œæ•´çš„è¾“å…¥è¾“å‡ºå‚æ•°å®šä¹‰å’ŒåŠŸèƒ½è¯´æ˜ã€‚

---

## Tool 1: äº¤é€šæŸ¥è¯¢å·¥å…· (TransportTool)

### åŠŸèƒ½æè¿°

æŸ¥è¯¢å‡ºå‘åœ°åˆ°ç›®çš„åœ°çš„äº¤é€šæ–¹å¼ï¼Œæ”¯æŒé£æœºã€é«˜é“ã€æ™®é€šç«è½¦ç­‰å¤šç§äº¤é€šå·¥å…·ï¼Œè¿”å›æ¨èçš„äº¤é€šæ–¹æ¡ˆã€‚

### æ–‡ä»¶è·¯å¾„

`backend/tools/transport.py`

### æ¥å£å®šä¹‰

```python
def query_transport(
    departure_city: str,
    destination_city: str,
    date: str = None,
    time_period: str = None,
    companions_count: int = 1,
    top_k: int = 3
) -> List[Dict]
```

### è¾“å…¥å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| `departure_city` | `str` | âœ… | å‡ºå‘åŸå¸‚åç§° | `"åŒ—äº¬"` |
| `destination_city` | `str` | âœ… | ç›®çš„åœ°åŸå¸‚åç§° | `"æ­å·"` |
| `date` | `str` | âŒ | å‡ºå‘æ—¥æœŸ | `"2025-12-01"` |
| `time_period` | `str` | âŒ | æœŸæœ›çš„æ—¶é—´æ®µï¼ˆå°æ—¶ï¼‰ | `"08:00-12:00"` |
| `companions_count` | `int` | âŒ | å‡ºè¡Œäººæ•°ï¼Œé»˜è®¤1 | `2` |
| `top_k` | `int` | âŒ | è¿”å›ç»“æœæ•°é‡ï¼Œé»˜è®¤3 | `3` |

### è¾“å‡ºå‚æ•°

è¿”å› `List[Dict]`ï¼Œæ¯ä¸ªå­—å…¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `method` | `str` | äº¤é€šæ–¹å¼ | `"é£æœº"` / `"é«˜é“"` / `"æ™®é€šç«è½¦"` |
| `duration_hours` | `float` | è¡Œç¨‹æ—¶é•¿ï¼ˆå°æ—¶ï¼‰ | `2.5` |
| `cost_per_person` | `float` | å•äººè´¹ç”¨ï¼ˆå…ƒï¼‰ | `800` |
| `departure_time` | `str` | å»ºè®®å‡ºå‘æ—¶é—´ | `"09:00"` |
| `arrival_time` | `str` | é¢„è®¡åˆ°è¾¾æ—¶é—´ | `"11:30"` |
| `description` | `str` | æ–¹æ¡ˆæè¿° | `"ä»åŒ—äº¬åˆ°æ­å·çš„èˆªç­ï¼Œæœ€å¿«æ·çš„é€‰æ‹©"` |
| `details` | `Dict` | è¯¦ç»†ä¿¡æ¯ï¼Œè§ä¸‹è¡¨ | - |

**detailså­—æ®µè¯¦ç»†è¯´æ˜ï¼š**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `train_number` / `flight_number` | `str` | è½¦æ¬¡å·/èˆªç­å· | `"G1234"` / `"CA1234"` |
| `seat_type` | `str` | åº§ä½ç±»å‹ï¼ˆç«è½¦ï¼‰ | `"äºŒç­‰åº§"` |
| `airline` | `str` | èˆªç©ºå…¬å¸ï¼ˆé£æœºï¼‰ | `"å›½èˆª/ä¸œèˆª"` |
| `station` / `airport` | `str` | è½¦ç«™/æœºåœºä¿¡æ¯ | `"åŒ—äº¬ç«™ â†’ æ­å·ä¸œç«™"` |
| `total_cost` | `float` | æ€»è´¹ç”¨ï¼ˆè€ƒè™‘äººæ•°ï¼‰ | `1600` |
| `booking_tip` | `str` | é¢„è®¢æç¤º | `"12306å®˜ç½‘è´­ç¥¨ï¼Œæ”¯æŒæ”¹ç­¾"` |

### ä½¿ç”¨ç¤ºä¾‹

```python
from tools.transport import get_transport_tool

# è·å–å·¥å…·å®ä¾‹
transport_tool = get_transport_tool()

# æŸ¥è¯¢äº¤é€šæ–¹æ¡ˆ
result = transport_tool.query_transport(
    departure_city="åŒ—äº¬",
    destination_city="æ­å·",
    companions_count=2,
    top_k=3
)

# è¾“å‡ºç¤ºä¾‹
print(result[0])
# {
#     "method": "é£æœº",
#     "duration_hours": 2.5,
#     "cost_per_person": 800,
#     "departure_time": "09:00",
#     "arrival_time": "11:30",
#     "description": "ä»åŒ—äº¬åˆ°æ­å·çš„èˆªç­ï¼Œæœ€å¿«æ·çš„é€‰æ‹©",
#     "details": {
#         "flight_number": "CA1234",
#         "airline": "å›½èˆª/ä¸œèˆª",
#         "airport": "åŒ—äº¬æœºåœº â†’ æ­å·è§å±±å›½é™…æœºåœº",
#         "total_cost": 1600,
#         "booking_tip": "æå‰7-15å¤©é¢„è®¢ä»·æ ¼æ›´ä¼˜æƒ "
#     }
# }
```

### Mockæ•°æ®è¯´æ˜

- **æ”¯æŒçš„å‡ºå‘åŸå¸‚**ï¼šåŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³ã€å—äº¬ã€è‹å·
- **ç›®çš„åœ°**ï¼šæ­å·ï¼ˆå…¶ä»–åŸå¸‚è¿”å›é€šç”¨æ•°æ®ï¼‰
- **äº¤é€šæ–¹å¼**ï¼šæ ¹æ®è·ç¦»è‡ªåŠ¨åŒ¹é…é£æœº/é«˜é“

---

## Tool 2: æ™¯ç‚¹æŸ¥è¯¢å·¥å…· (AttractionTool)

### åŠŸèƒ½æè¿°

åŸºäºå‘é‡æ•°æ®åº“æŸ¥è¯¢æ™¯ç‚¹ä¿¡æ¯ï¼Œæ”¯æŒæ ¹æ®åŸå¸‚ã€é—¨ç¥¨ä»·æ ¼ã€è¯„åˆ†ã€ç”¨æˆ·åå¥½ç­‰å¤šç»´åº¦ç­›é€‰æ™¯ç‚¹ã€‚

### æ–‡ä»¶è·¯å¾„

`backend/tools/attraction.py`

### æ¥å£å®šä¹‰

```python
def query_attractions(
    city: str,
    ticket_price_max: float = 1000,
    time_point: str = None,
    location_range: Dict = None,
    rating_min: float = 0.0,
    preferences: List[str] = None,
    top_k: int = 10
) -> List[Dict]
```

### è¾“å…¥å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| `city` | `str` | âœ… | åŸå¸‚åç§° | `"æ­å·"` |
| `ticket_price_max` | `float` | âŒ | æœ€é«˜é—¨ç¥¨ä»·æ ¼ï¼Œé»˜è®¤1000 | `100` |
| `time_point` | `str` | âŒ | æ¸¸è§ˆæ—¶é—´ç‚¹ï¼ˆé¢„ç•™ï¼‰ | `"09:00"` |
| `location_range` | `Dict` | âŒ | ä½ç½®èŒƒå›´ï¼ˆé¢„ç•™ï¼‰ | `{"lat": 30.25, "lng": 120.13, "radius": 5}` |
| `rating_min` | `float` | âŒ | æœ€ä½è¯„åˆ†ï¼Œé»˜è®¤0.0 | `4.0` |
| `preferences` | `List[str]` | âŒ | ç”¨æˆ·åå¥½æ ‡ç­¾ | `["æ–‡åŒ–", "ç¾é£Ÿ"]` |
| `top_k` | `int` | âŒ | è¿”å›ç»“æœæ•°é‡ï¼Œé»˜è®¤10 | `10` |

### è¾“å‡ºå‚æ•°

è¿”å› `List[Dict]`ï¼Œæ¯ä¸ªå­—å…¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `name` | `str` | æ™¯ç‚¹åç§° | `"è¥¿æ¹–"` |
| `city` | `str` | æ‰€åœ¨åŸå¸‚ | `"æ­å·"` |
| `category` | `List[str]` | æ™¯ç‚¹åˆ†ç±» | `["è‡ªç„¶é£å…‰", "å†å²æ–‡åŒ–"]` |
| `rating` | `float` | è¯„åˆ†ï¼ˆ0-5ï¼‰ | `4.8` |
| `ticket_price` | `float` | é—¨ç¥¨ä»·æ ¼ï¼ˆå…ƒï¼‰ | `0` |
| `duration_hours` | `float` | å»ºè®®æ¸¸ç©æ—¶é•¿ï¼ˆå°æ—¶ï¼‰ | `3.0` |
| `location` | `Dict` | ä½ç½®ä¿¡æ¯ï¼Œè§ä¸‹è¡¨ | - |
| `description` | `str` | æ™¯ç‚¹æè¿° | `"è¥¿æ¹–æ˜¯æ­å·çš„æ ‡å¿—æ€§æ™¯ç‚¹..."` |
| `tags` | `List[str]` | æ ‡ç­¾ | `["å¿…æ¸¸", "å…è´¹", "é€‚åˆæ‹ç…§"]` |
| `opening_hours` | `str` | å¼€æ”¾æ—¶é—´ | `"å…¨å¤©å¼€æ”¾"` |
| `best_season` | `List[str]` | æœ€ä½³å­£èŠ‚ | `["æ˜¥å­£", "ç§‹å­£"]` |

**locationå­—æ®µè¯¦ç»†è¯´æ˜ï¼š**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `lat` | `float` | çº¬åº¦ | `30.2591` |
| `lng` | `float` | ç»åº¦ | `120.1353` |
| `address` | `str` | è¯¦ç»†åœ°å€ | `"æµ™æ±Ÿçœæ­å·å¸‚è¥¿æ¹–åŒºè¥¿æ¹–é£æ™¯åèƒœåŒº"` |

### ä½¿ç”¨ç¤ºä¾‹

```python
from tools.attraction import get_attraction_tool

# è·å–å·¥å…·å®ä¾‹
attraction_tool = get_attraction_tool()

# æŸ¥è¯¢æ™¯ç‚¹
result = attraction_tool.query_attractions(
    city="æ­å·",
    ticket_price_max=100,
    rating_min=4.0,
    preferences=["æ–‡åŒ–", "ç¾é£Ÿ"],
    top_k=5
)

# è¾“å‡ºç¤ºä¾‹
print(result[0])
# {
#     "name": "è¥¿æ¹–",
#     "city": "æ­å·",
#     "category": ["è‡ªç„¶é£å…‰", "å†å²æ–‡åŒ–"],
#     "rating": 4.8,
#     "ticket_price": 0,
#     "duration_hours": 3.0,
#     "location": {
#         "lat": 30.2591,
#         "lng": 120.1353,
#         "address": "æµ™æ±Ÿçœæ­å·å¸‚è¥¿æ¹–åŒºè¥¿æ¹–é£æ™¯åèƒœåŒº"
#     },
#     "description": "è¥¿æ¹–æ˜¯æ­å·çš„æ ‡å¿—æ€§æ™¯ç‚¹ï¼Œä»¥ç§€ä¸½çš„æ¹–å…‰å±±è‰²å’Œä¼—å¤šçš„åèƒœå¤è¿¹é—»å...",
#     "tags": ["å¿…æ¸¸", "å…è´¹", "é€‚åˆæ‹ç…§", "ä¸–ç•Œæ–‡åŒ–é—äº§"],
#     "opening_hours": "å…¨å¤©å¼€æ”¾",
#     "best_season": ["æ˜¥å­£", "ç§‹å­£"]
# }
```

### Mockæ•°æ®è¯´æ˜

- **åŸå¸‚**ï¼šæ­å·
- **æ™¯ç‚¹æ•°é‡**ï¼š10ä¸ª
- **æ™¯ç‚¹åˆ—è¡¨**ï¼šè¥¿æ¹–ã€çµéšå¯ºã€é›·å³°å¡”ã€è¥¿æºªæ¹¿åœ°ã€åƒå²›æ¹–ã€å®‹åŸã€æ²³åŠè¡—ã€é£æ¥å³°ã€é¾™äº•æ‘ã€æ­å·åšç‰©é¦†
- **åå¥½è¿‡æ»¤**ï¼šæ ¹æ®categoryå­—æ®µåŒ¹é…ç”¨æˆ·åå¥½

---

## Tool 3: ç¾é£ŸæŸ¥è¯¢å·¥å…· (FoodTool)

### åŠŸèƒ½æè¿°

æŸ¥è¯¢ç›®çš„åœ°çš„ç¾é£Ÿé¤å…ï¼Œæ”¯æŒæ ¹æ®åŸå¸‚ã€èœç³»ç±»åˆ«ã€ä»·æ ¼åŒºé—´ã€è¯„åˆ†ç­‰æ¡ä»¶ç­›é€‰ã€‚

### æ–‡ä»¶è·¯å¾„

`backend/tools/food.py`

### æ¥å£å®šä¹‰

```python
def query_restaurants(
    city: str,
    category: str = None,
    preferences: List[str] = None,
    price_max: float = 1000,
    rating_min: float = 0.0,
    location_range: Dict = None,
    top_k: int = 5
) -> List[Dict]
```

### è¾“å…¥å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| `city` | `str` | âœ… | åŸå¸‚åç§° | `"æ­å·"` |
| `category` | `str` | âŒ | èœç³»ç±»åˆ« | `"æ­å¸®èœ"` |
| `preferences` | `List[str]` | âŒ | ç”¨æˆ·åå¥½ï¼ˆé¢„ç•™ï¼‰ | `["ç¾é£Ÿ"]` |
| `price_max` | `float` | âŒ | æœ€é«˜äººå‡ä»·æ ¼ï¼Œé»˜è®¤1000 | `200` |
| `rating_min` | `float` | âŒ | æœ€ä½è¯„åˆ†ï¼Œé»˜è®¤0.0 | `4.0` |
| `location_range` | `Dict` | âŒ | ä½ç½®èŒƒå›´ï¼ˆé¢„ç•™ï¼‰ | `{"lat": 30.25, "lng": 120.13, "radius": 2}` |
| `top_k` | `int` | âŒ | è¿”å›ç»“æœæ•°é‡ï¼Œé»˜è®¤5 | `5` |

### è¾“å‡ºå‚æ•°

è¿”å› `List[Dict]`ï¼Œæ¯ä¸ªå­—å…¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `name` | `str` | é¤å…åç§° | `"å¤–å©†å®¶ï¼ˆæ¹–æ»¨åº—ï¼‰"` |
| `city` | `str` | æ‰€åœ¨åŸå¸‚ | `"æ­å·"` |
| `cuisine_type` | `str` | èœç³»ç±»å‹ | `"æ­å¸®èœ"` |
| `rating` | `float` | è¯„åˆ†ï¼ˆ0-5ï¼‰ | `4.6` |
| `avg_price` | `float` | äººå‡æ¶ˆè´¹ï¼ˆå…ƒï¼‰ | `80` |
| `location` | `Dict` | ä½ç½®ä¿¡æ¯ | åŒTool 2çš„locationå­—æ®µ |
| `signature_dishes` | `List[str]` | æ‹›ç‰Œèœ | `["è¥¿æ¹–é†‹é±¼", "é¾™äº•è™¾ä»", "ä¸œå¡è‚‰"]` |
| `description` | `str` | é¤å…æè¿° | `"æ­å·çŸ¥åè¿é”é¤å…ï¼Œä¸»æ‰“æ­å¸®èœ..."` |
| `opening_hours` | `str` | è¥ä¸šæ—¶é—´ | `"11:00-21:30"` |
| `tags` | `List[str]` | æ ‡ç­¾ | `["å¿…åƒ", "é«˜æ€§ä»·æ¯”", "è¿é”å“ç‰Œ"]` |

### ä½¿ç”¨ç¤ºä¾‹

```python
from tools.food import get_food_tool

# è·å–å·¥å…·å®ä¾‹
food_tool = get_food_tool()

# æŸ¥è¯¢é¤å…
result = food_tool.query_restaurants(
    city="æ­å·",
    category="æ­å¸®èœ",
    price_max=200,
    rating_min=4.0,
    top_k=5
)

# è¾“å‡ºç¤ºä¾‹
print(result[0])
# {
#     "name": "å¤–å©†å®¶ï¼ˆæ¹–æ»¨åº—ï¼‰",
#     "city": "æ­å·",
#     "cuisine_type": "æ­å¸®èœ",
#     "rating": 4.6,
#     "avg_price": 80,
#     "location": {
#         "lat": 30.2547,
#         "lng": 120.1619,
#         "address": "æµ™æ±Ÿçœæ­å·å¸‚ä¸ŠåŸåŒºæ¹–æ»¨è·¯53å·"
#     },
#     "signature_dishes": ["è¥¿æ¹–é†‹é±¼", "é¾™äº•è™¾ä»", "ä¸œå¡è‚‰"],
#     "description": "æ­å·çŸ¥åè¿é”é¤å…ï¼Œä¸»æ‰“æ­å¸®èœï¼Œæ€§ä»·æ¯”é«˜ï¼Œç¯å¢ƒä¼˜é›…ã€‚",
#     "opening_hours": "11:00-21:30",
#     "tags": ["å¿…åƒ", "é«˜æ€§ä»·æ¯”", "è¿é”å“ç‰Œ"]
# }
```

### Mockæ•°æ®è¯´æ˜

- **åŸå¸‚**ï¼šæ­å·
- **é¤å…æ•°é‡**ï¼š8å®¶
- **é¤å…åˆ—è¡¨**ï¼šå¤–å©†å®¶ã€æ¥¼å¤–æ¥¼ã€çŸ¥å‘³è§‚ã€ç»¿èŒ¶é¤å…ã€å¥å…ƒé¦†ã€æ–°ç™½é¹¿ã€èƒ¡åº†ä½™å ‚è¯è†³ã€å—å®‹å¾¡è¡—å°åƒ
- **èœç³»ç±»å‹**ï¼šæ­å¸®èœã€å°åƒã€é¢é£Ÿã€åˆ›æ„æ­å¸®èœã€è¯è†³

---

## Tool 4: ä½å®¿æŸ¥è¯¢å·¥å…· (AccommodationTool)

### åŠŸèƒ½æè¿°

æŸ¥è¯¢ç›®çš„åœ°çš„é…’åº—ä½å®¿ï¼Œæ”¯æŒæ ¹æ®åŸå¸‚ã€å…¥ä½äººæ•°ã€ä»·æ ¼åŒºé—´ã€é…’åº—ç±»å‹ã€è¯„åˆ†ç­‰æ¡ä»¶ç­›é€‰ã€‚

### æ–‡ä»¶è·¯å¾„

`backend/tools/accommodation.py`

### æ¥å£å®šä¹‰

```python
def query_hotels(
    city: str,
    companions_count: int = 1,
    price_max: float = 1000,
    location_range: Dict = None,
    rating_min: float = 0.0,
    top_k: int = 5
) -> List[Dict]
```

### è¾“å…¥å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| `city` | `str` | âœ… | åŸå¸‚åç§° | `"æ­å·"` |
| `companions_count` | `int` | âŒ | å…¥ä½äººæ•°ï¼Œé»˜è®¤1 | `2` |
| `price_max` | `float` | âŒ | æœ€é«˜æ¯æ™šä»·æ ¼ï¼Œé»˜è®¤1000 | `500` |
| `location_range` | `Dict` | âŒ | ä½ç½®èŒƒå›´ï¼ˆé¢„ç•™ï¼‰ | `{"lat": 30.25, "lng": 120.13, "radius": 3}` |
| `rating_min` | `float` | âŒ | æœ€ä½è¯„åˆ†ï¼Œé»˜è®¤0.0 | `4.0` |
| `top_k` | `int` | âŒ | è¿”å›ç»“æœæ•°é‡ï¼Œé»˜è®¤5 | `5` |

### è¾“å‡ºå‚æ•°

è¿”å› `List[Dict]`ï¼Œæ¯ä¸ªå­—å…¸åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `name` | `str` | é…’åº—åç§° | `"äºšæœµé…’åº—ï¼ˆè¥¿æ¹–åº—ï¼‰"` |
| `city` | `str` | æ‰€åœ¨åŸå¸‚ | `"æ­å·"` |
| `hotel_type` | `str` | é…’åº—ç±»å‹ | `"ç»æµå‹"` / `"èˆ’é€‚å‹"` / `"é«˜æ¡£å‹"` |
| `rating` | `float` | è¯„åˆ†ï¼ˆ0-5ï¼‰ | `4.6` |
| `price_per_night` | `float` | æ¯æ™šä»·æ ¼ï¼ˆå…ƒï¼‰ | `420` |
| `location` | `Dict` | ä½ç½®ä¿¡æ¯ | åŒTool 2çš„locationå­—æ®µ |
| `facilities` | `List[str]` | é…’åº—è®¾æ–½ | `["WiFi", "æ—©é¤", "å¥èº«æˆ¿", "å›¾ä¹¦é¦†"]` |
| `room_type` | `str` | æˆ¿é—´ç±»å‹ | `"æ ‡å‡†é—´"` / `"å¤§åºŠæˆ¿"` / `"å¥—æˆ¿"` |
| `description` | `str` | é…’åº—æè¿° | `"æ–°å‹äººæ–‡é…’åº—ï¼Œæä¾›å…è´¹å›¾ä¹¦å’Œä¸‹åˆèŒ¶..."` |
| `tags` | `List[str]` | æ ‡ç­¾ | `["äººæ–‡é…’åº—", "æœåŠ¡å¥½", "è¿‘è¥¿æ¹–"]` |

### ä½¿ç”¨ç¤ºä¾‹

```python
from tools.accommodation import get_accommodation_tool

# è·å–å·¥å…·å®ä¾‹
accommodation_tool = get_accommodation_tool()

# æŸ¥è¯¢é…’åº—
result = accommodation_tool.query_hotels(
    city="æ­å·",
    companions_count=2,
    price_max=500,
    rating_min=4.0,
    top_k=5
)

# è¾“å‡ºç¤ºä¾‹
print(result[0])
# {
#     "name": "äºšæœµé…’åº—ï¼ˆè¥¿æ¹–åº—ï¼‰",
#     "city": "æ­å·",
#     "hotel_type": "èˆ’é€‚å‹",
#     "rating": 4.6,
#     "price_per_night": 420,
#     "location": {
#         "lat": 30.2518,
#         "lng": 120.1448,
#         "address": "æµ™æ±Ÿçœæ­å·å¸‚è¥¿æ¹–åŒºåŒ—å±±è¡—58å·"
#     },
#     "facilities": ["WiFi", "æ—©é¤", "å¥èº«æˆ¿", "å›¾ä¹¦é¦†", "ä¸‹åˆèŒ¶"],
#     "room_type": "èˆ’é€‚å¤§åºŠæˆ¿",
#     "description": "æ–°å‹äººæ–‡é…’åº—ï¼Œæä¾›å…è´¹å›¾ä¹¦å’Œä¸‹åˆèŒ¶ï¼ŒæœåŠ¡è´´å¿ƒã€‚",
#     "tags": ["äººæ–‡é…’åº—", "æœåŠ¡å¥½", "è¿‘è¥¿æ¹–"]
# }
```

### Mockæ•°æ®è¯´æ˜

- **åŸå¸‚**ï¼šæ­å·
- **é…’åº—æ•°é‡**ï¼š8å®¶
- **é…’åº—åˆ—è¡¨**ï¼š
  - **é«˜æ¡£å‹**ï¼šè¥¿æ¹–å›½å®¾é¦†ã€æŸ³èºé‡Œé…’åº—
  - **èˆ’é€‚å‹**ï¼šå¼€å…ƒåéƒ½ã€å…¨å­£é…’åº—ã€äºšæœµé…’åº—
  - **ç»æµå‹**ï¼šå¦‚å®¶ã€æ±‰åº­ã€é”¦æ±Ÿä¹‹æ˜Ÿ

---

## ğŸ”„ å®Œæ•´æ¨ç†æµç¨‹ç¤ºä¾‹

```python
from planner.itinerary_generator import get_itinerary_generator

# è·å–è¡Œç¨‹ç”Ÿæˆå™¨
generator = get_itinerary_generator()

# ç”Ÿæˆå®Œæ•´è¡Œç¨‹ï¼ˆè‡ªåŠ¨è°ƒç”¨4ä¸ªtoolï¼‰
itinerary = generator.generate_itinerary(
    destination="æ­å·",
    days=3,
    budget=5000,
    preferences=["æ–‡åŒ–", "ç¾é£Ÿ"],
    attractions=[],
    companions="æƒ…ä¾£",
    companions_count=2,
    departure_city="åŒ—äº¬"
)

# è¿”å›çš„è¡Œç¨‹åŒ…å«ï¼š
# - transport: Tool 1æŸ¥è¯¢çš„äº¤é€šæ–¹æ¡ˆ
# - daily_plans: Tool 2æŸ¥è¯¢çš„æ™¯ç‚¹ + Tool 3æŸ¥è¯¢çš„ç¾é£Ÿ
# - accommodation: Tool 4æŸ¥è¯¢çš„é…’åº—
# - budget_breakdown: è¯¦ç»†çš„é¢„ç®—åˆ†è§£
# - tips: æ—…è¡Œå»ºè®®
```

## ğŸ“Š æ•°æ®æµè½¬

```
ç”¨æˆ·éœ€æ±‚
    â†“
ItineraryGenerator.generate_itinerary()
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tool 1    â”‚   Tool 2    â”‚   Tool 3    â”‚   Tool 4    â”‚
â”‚   äº¤é€šæŸ¥è¯¢   â”‚   æ™¯ç‚¹æŸ¥è¯¢   â”‚   ç¾é£ŸæŸ¥è¯¢   â”‚   ä½å®¿æŸ¥è¯¢   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“           â†“           â†“           â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
            LLMå†³ç­–ï¼ˆæ¯æ—¥è¡Œç¨‹å®‰æ’ï¼‰
                    â†“
              å®Œæ•´è¡Œç¨‹è¾“å‡º
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿›å…¥backendç›®å½•
cd backend

# æµ‹è¯•å•ä¸ªtool
python -c "
from tools.transport import get_transport_tool
tool = get_transport_tool()
result = tool.query_transport('åŒ—äº¬', 'æ­å·', companions_count=2)
print(result[0])
"

# æµ‹è¯•å®Œæ•´æ¨ç†æµç¨‹
python test/test_tools_inference.py
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **Mockæ•°æ®èŒƒå›´**ï¼šå½“å‰ä»…æ”¯æŒæ­å·çš„å®Œæ•´æ•°æ®ï¼Œå…¶ä»–åŸå¸‚è¿”å›é€šç”¨æ•°æ®
2. **æ‰©å±•å»ºè®®**ï¼š
   - Tool 1: æ¥å…¥12306 APIæˆ–æºç¨‹APIè·å–å®æ—¶ç¥¨ä»·
   - Tool 2: æ„å»ºçœŸå®çš„å‘é‡æ•°æ®åº“ï¼ˆChromaDBï¼‰
   - Tool 3: æ¥å…¥é«˜å¾·åœ°å›¾POI API
   - Tool 4: çˆ¬å–æºç¨‹/å»å“ªå„¿é…’åº—æ•°æ®
3. **å‚æ•°æ ¡éªŒ**ï¼šæ‰€æœ‰toolå‡æœ‰åŸºæœ¬çš„å‚æ•°è¿‡æ»¤å’Œæ’åºé€»è¾‘
4. **è¿”å›æ ¼å¼**ï¼šæ‰€æœ‰toolè¿”å›çš„éƒ½æ˜¯å­—å…¸åˆ—è¡¨ï¼Œä¾¿äºç»Ÿä¸€å¤„ç†

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-11-19  
**ç»´æŠ¤è€…**: é¡¹ç›®ç»„æˆå‘˜

